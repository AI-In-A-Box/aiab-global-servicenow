<?xml version="1.0" encoding="UTF-8"?><record_update table="u_ai_tool">
    <u_ai_tool action="INSERT_OR_UPDATE">
        <sys_class_name>u_ai_tool</sys_class_name>
        <sys_created_by>opencode</sys_created_by>
        <sys_created_on>2026-01-14 06:52:44</sys_created_on>
        <sys_id>f0e9dcf783da32104d4fccb6feaad3ed</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_name>search_servicenow_docs</sys_name>
        <sys_package display_value="AI in a Box" source="0439d1f593948210071230a97bba1016">0439d1f593948210071230a97bba1016</sys_package>
        <sys_policy/>
        <sys_scope display_value="AI in a Box">0439d1f593948210071230a97bba1016</sys_scope>
        <sys_update_name>u_ai_tool_f0e9dcf783da32104d4fccb6feaad3ed</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2026-02-16 06:23:23</sys_updated_on>
        <u_active>true</u_active>
        <u_description>Search ServiceNow technical documentation and developer guides at sn.jace.pro. Use this to find information about Glide* methods, scripting, APIs, and ServiceNow development topics</u_description>
        <u_execute_in>servicenow</u_execute_in>
        <u_name>search_servicenow_docs</u_name>
        <u_parameters>{
  "type": "object",
  "properties": {
    "query": {
      "type": "string",
      "description": "Search keywords like GlideRecord, business rule, client script, REST API, etc."
    },
    "limit": {
      "type": "integer",
      "description": "Max results to return (default 5, max 10)"
    }
  },
  "required": [
    "query"
  ]
}</u_parameters>
        <u_script><![CDATA[(function(args, userId) {
    if (!args.query) return { error: "query is required" };

    var restMessage = new sn_ws.RESTMessageV2();
    restMessage.setHttpMethod("GET");
    restMessage.setEndpoint("https://sn.jace.pro/core/assets/js/search_index.json");
    var resp = restMessage.execute();
    var body = resp.getBody();
    var docs = JSON.parse(body);

    var query = args.query.toLowerCase();
    var limit = Math.min(args.limit || 5, 10);
    var matches = [];
    
    for (var i = 0; i < docs.length; i++) {
        var doc = docs[i];
        var titleMatch = doc.title && doc.title.toLowerCase().indexOf(query) > -1;
        var contentMatch = doc.content && doc.content.toLowerCase().indexOf(query) > -1;
        if (titleMatch || contentMatch) {
            matches.push({
                title: doc.title,
                url: "https://sn.jace.pro" + doc.url,
                excerpt: doc.content ? doc.content.substring(0, 200) + "..." : ""
            });
        }
        if (matches.length >= limit) break;
    }

    if (matches.length === 0) return { found: false, message: "No documentation found for: " + args.query };
    return { found: true, count: matches.length, results: matches };
})(args, userId);]]></u_script>
    </u_ai_tool>
</record_update>
