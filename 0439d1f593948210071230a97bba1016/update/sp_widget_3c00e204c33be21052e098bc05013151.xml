<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function() {
  /*global api*/
  var c = this;
  
  // Initialize controller
  c.data.ready = true;
  
  // Helper function to open settings pages
  c.openSettingsPage = function(url) {
    if (url) {
      window.open(url, '_blank');
    }
  };
};]]></client_script>
        <controller_as>c</controller_as>
        <css>// AIAB Settings Widget Styles&#13;
&#13;
.aiab-settings-widget {&#13;
  .panel {&#13;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);&#13;
    border-radius: 8px;&#13;
    border: none;&#13;
  }&#13;
&#13;
  .panel-heading {&#13;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);&#13;
    color: white;&#13;
    border-radius: 8px 8px 0 0;&#13;
  }&#13;
&#13;
  .panel-title {&#13;
    display: flex;&#13;
    align-items: center;&#13;
    margin: 0;&#13;
    font-size: 18px;&#13;
    &#13;
    i {&#13;
      margin-right: 10px;&#13;
    }&#13;
  }&#13;
&#13;
  .list-group {&#13;
    border: none;&#13;
  }&#13;
&#13;
  .list-group-item {&#13;
    border: 1px solid #e0e0e0;&#13;
    border-radius: 6px;&#13;
    margin-bottom: 8px;&#13;
    transition: all 0.2s ease;&#13;
&#13;
    &amp;:hover {&#13;
      background-color: #f8f9fa;&#13;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#13;
    }&#13;
  }&#13;
&#13;
  .btn {&#13;
    transition: all 0.2s ease;&#13;
&#13;
    &amp;:hover {&#13;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);&#13;
    }&#13;
  }&#13;
&#13;
  .well {&#13;
    transition: all 0.2s ease;&#13;
&#13;
    &amp;:hover {&#13;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);&#13;
    }&#13;
  }&#13;
&#13;
  .media-left {&#13;
    padding-right: 15px;&#13;
  }&#13;
&#13;
  .section-title {&#13;
    margin-bottom: 15px;&#13;
    color: #333;&#13;
    font-weight: 600;&#13;
  }&#13;
&#13;
  .footer-note {&#13;
    margin-top: 20px;&#13;
    padding-top: 15px;&#13;
    border-top: 1px solid #eee;&#13;
    text-align: center;&#13;
    &#13;
    .info-icon {&#13;
      color: #17a2b8;&#13;
      margin-right: 5px;&#13;
    }&#13;
  }&#13;
&#13;
  // Section spacing&#13;
  .system-overview {&#13;
    margin-bottom: 25px;&#13;
  }&#13;
&#13;
  .features-section {&#13;
    margin-bottom: 25px;&#13;
  }&#13;
&#13;
  .config-section {&#13;
    margin-bottom: 20px;&#13;
  }&#13;
&#13;
  // Text utilities&#13;
  .text-muted {&#13;
    margin-bottom: 20px;&#13;
  }&#13;
&#13;
  // Feature status improvements&#13;
  .features-section .text-success,&#13;
  .features-section .text-danger {&#13;
    margin-left: 10px;&#13;
    font-weight: 500;&#13;
  }&#13;
}&#13;
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>aiab_settings</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>AIAB Settings</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /*global gs, data, console*/
  try {
    // Initialize AIIAB and get status
    var status = new global.aiabStatus();
    // Core settings data
    data.settingsTitle = 'AI In A Box Settings';
    data.settingsDescription = 'Configure and manage your AI In A Box features';
    
    // Get feature status from AIIAB
    data.features = status.featuresAndProperties;
    
    // Add core configuration links
    data.coreSettings = [
      {
        label: 'System Properties',
        description: 'Configure all AI In A Box system properties',
        url: '/system_properties_ui.do?sysparm_title=Properties&sysparm_category=AI%20In%20A%20Box&sysparm_domain_restore=false&sysparm_stack=no',
        buttonText: 'Configure',
        className: 'btn btn-primary',
        icon: 'fa fa-cogs'
      },
      {
        label: 'AI Summarizers',
        description: 'Manage AI summarization configurations',
        url: '/u_ai_summarizer_list.do',
        buttonText: 'Manage',
        className: 'btn btn-primary',
        icon: 'fa fa-list-alt'
      },
      {
        label: 'AI Inferences',
        description: 'View and manage AI inference records',
        url: '/u_ai_inference_list.do',
        buttonText: 'View',
        className: 'btn btn-primary',
        icon: 'fa fa-brain'
      }
    ];
    
    // Get midserver configuration
    data.midserverEnabled = gs.getProperty('ai_in_a_box.config.midserver.enabled') == 'true';
    data.midserverName = gs.getProperty('ai_in_a_box.config.midserver') || 'Not configured';
    
    // Get key system properties for quick overview
    data.systemInfo = {
      installString: gs.getProperty('ai_in_a_box.install_string') || 'Not set',
      version: gs.getProperty('ai_in_a_box.version') || 'Unknown',
      instanceName: gs.getProperty('instance_name') || 'Unknown'
    };
    
  } catch (error) {
    data.error = 'Error loading settings: ' + error.message;
    console.log(error);
  }
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-08-31 18:24:53</sys_created_on>
        <sys_id>3c00e204c33be21052e098bc05013151</sys_id>
        <sys_mod_count>30</sys_mod_count>
        <sys_name>AIAB Settings</sys_name>
        <sys_package display_value="AI in a Box" source="0439d1f593948210071230a97bba1016">0439d1f593948210071230a97bba1016</sys_package>
        <sys_policy/>
        <sys_scope display_value="AI in a Box">0439d1f593948210071230a97bba1016</sys_scope>
        <sys_update_name>sp_widget_3c00e204c33be21052e098bc05013151</sys_update_name>
        <sys_updated_by>jacebenson</sys_updated_by>
        <sys_updated_on>2025-09-04 01:12:51</sys_updated_on>
        <template><![CDATA[<div class="aiab-settings-widget">
  <div class="panel panel-default">
    
    <!-- Header -->
    <div class="panel-heading">
      <h3 class="panel-title">
        <i class="fa fa-cogs"></i>
        {{data.settingsTitle}}
      </h3>
    </div>
    
    <!-- Body -->
    <div class="panel-body">
      
      <!-- Error Display -->
      <div ng-if="data.error" class="alert alert-danger">
        <i class="fa fa-exclamation-triangle"></i> {{data.error}}
      </div>
      
      <!-- Description -->
      <p class="text-muted">{{data.settingsDescription}}</p>
      
      <!-- System Overview -->
      <div class="system-overview">
        <h5 class="section-title">System Overview</h5>
        <div class="well well-sm">
          <div class="row">
            <div class="col-sm-4">
              <strong>Version:</strong><br>
              <span class="text-muted">{{data.systemInfo.version}}</span>
            </div>
            <div class="col-sm-4">
              <strong>Instance:</strong><br>
              <span class="text-muted">{{data.systemInfo.instanceName}}</span>
            </div>
            <div class="col-sm-4">
              <strong>
                <span ng-if="data.midserverEnabled">Using Midserver</span>
                <span ng-if="!data.midserverEnabled">Not Using Midserver</span>
              </strong><br>
              <span class="text-muted">{{data.midserverName}}</span>
            </div>
          </div>
          <div ng-if="data.midserverEnabled" class="row" style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">
            <div class="col-sm-12">
              <strong>Midserver:</strong>
              <span class="label label-info">{{data.midserverName}}</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Feature Status -->
      <div ng-if="data.features.length > 0" class="features-section">
        <h5 class="section-title">Feature Status</h5>
        <div class="list-group">
          <div ng-repeat="feature in data.features" class="list-group-item">
            <div class="row">
              <div class="col-sm-8">
                <strong>{{feature.label}}</strong>
                <span class="{{feature.enabled == true ? 'text-success' : 'text-danger'}}">
                  {{feature.enabled == true ? 'Enabled' : 'Disabled'}}
                </span>
              </div>
              <div class="col-sm-4 text-right">
                <a ng-href="/sys_properties_list.do?sysparm_query=nameIN{{feature.properties.join(',')}}" 
                   class="btn btn-default btn-sm"
                   target="_blank">
                  Configure
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Configuration Settings -->
      <div ng-if="data.coreSettings.length > 0" class="config-section">
        <h5 class="section-title">Configuration</h5>
        <div class="list-group">
          <div ng-repeat="setting in data.coreSettings" class="list-group-item">
            <div class="row">
              <div class="col-sm-8">
                <div class="media">
                  <div class="media-left">
                    <i class="{{setting.icon}}" style="color: #6c757d; margin-top: 5px;"></i>
                  </div>
                  <div class="media-body">
                    <strong>{{setting.label}}</strong>
                    <div class="text-muted" style="font-size: 0.9em; margin-top: 2px;">
                      {{setting.description}}
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 text-right">
                <a ng-href="{{setting.url}}" 
                   class="{{setting.className}} btn btn-sm"
                   target="_blank">
                  {{setting.buttonText}}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Footer Note -->
      <div class="footer-note">
        <small class="text-muted">
          <i class="fa fa-info-circle info-icon"></i>
          Changes to system properties may require a restart to take effect
        </small>
      </div>
      
    </div>
  </div>
</div>]]></template>
    </sp_widget>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>3c00e204c33be21052e098bc05013151</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-08-31 18:24:53</sys_created_on>
        <sys_id>b11026c0c33be21052e098bc050131db</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-08-31 18:24:53</sys_updated_on>
        <table>sp_widget</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
</record_update>
